<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mission Locale â€“ Jeu MLE</title>

<style>
:root{
  --primary:#0f7780;
  --bg:#eef7f8;
}

*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}

body{
  margin:0;
  background:var(--bg);
  text-align:center;
} <img src="images/logo-mle.png" alt="Logo Mission Locale">
  

/* ===== MENU ===== */
#menu{
  position:fixed;
  inset:0;
  background:var(--bg);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:10;
}

.menu-card{
  background:white;
  padding:24px;
  border-radius:14px;
  max-width:420px;
  box-shadow:0 10px 30px rgba(0,0,0,.2);
}

.menu-card h1{color:var(--primary)}

.menu-card button{
  margin-top:16px;
  padding:14px 24px;
  font-size:16px;
  border:none;
  border-radius:10px;
  background:var(--primary);
  color:white;
  font-weight:bold;
  cursor:pointer;
}

/* ===== JEU ===== */
canvas{
  background:white;
  border-radius:12px;
  display:block;
  margin:20px auto;
}

#hud{
  font-weight:bold;
  margin-bottom:20px;
}
</style>
</head>

<body>

<!-- MENU -->
<div id="menu">
  <div class="menu-card">
    <h1>ðŸŽ¯ Parcours Pro â€“ Mission Locale</h1>
    <p>
      Aide la mascotte MLE Ã  avancer dans son parcours professionnel.<br><br>
      ðŸ‘‰ Clique, touche lâ€™Ã©cran ou appuie sur ESPACE pour sauter.<br>
      ðŸ‘‰ Ã‰vite les obstacles.<br>
      ðŸ‘‰ Si tu touches un obstacle, rÃ©pond Ã  une question.<br>
      ðŸ‘‰ Mauvaise rÃ©ponse : score remis Ã  zÃ©ro.
    </p>
    <button id="startBtn">DÃ©marrer le jeu</button>
  </div>
</div>

<!-- JEU -->
<canvas id="game" width="900" height="300"></canvas>

<div id="hud">
  Score : <span id="score">0</span> |
  Niveau : <span id="level">1</span>
</div>

<script>
/* ===== INITIALISATION ===== */
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let playing=false;
let score=0;
let level=1;
let speed=4;
let frame=0;

/* ===== PERSONNAGE (ROND MLE) ===== */
const player={
  x:90,
  y:210,
  r:22,
  vy:0,
  jumping:false
};

/* ===== OBSTACLES ===== */
let obstacles=[];

/* ===== QUESTIONS ===== */
const questions=[
[
  { q:"Que faut-il absolument mettre en haut d'un CV ?", a:["Nom et contact","Recette de cuisine","Photo uniquement"], correct:0, points:50 },
  { q:"Quelle durÃ©e idÃ©ale pour un CV ciblÃ© ?", a:["1 page","5 pages","10 pages"], correct:0, points:40 },
  { q:"Que signifie \"soft skill\" ?", a:["CompÃ©tence comportementale","Logiciel","DiplÃ´me"], correct:0, points:30 },
  { q:"Que faire aprÃ¨s une candidature ?", a:["Relancer poliment","Ne rien faire","Envoyer tous les jours"], correct:0, points:30 },
  { q:"En entretien, comment commencer ?", a:["Bonjour + prÃ©sentation brÃ¨ve","Raconter sa vie privÃ©e","Faire un sketch"], correct:0, points:40 },
  { q:"Quelle est une bonne qualitÃ© professionnelle ?", a:["PonctualitÃ©","Arriver en retard","Manque de respect"], correct:0, points:30 },
  { q:"Comment adapter son CV Ã  une offre ?", a:["Mettre en avant les compÃ©tences demandÃ©es","Envoyer le mÃªme CV","Changer juste la police"], correct:0, points:35 },
  { q:"Qu'est-ce qu'une lettre de motivation ?", a:["Un texte adaptÃ© Ã  l'offre","Un CV plus long","Une liste de notes personnelles"], correct:0, points:25 },
  { q:"OÃ¹ trouver des offres ?", a:["Sites d'emploi","Sur la Lune"], correct:0, points:20 },
  { q:"Quel comportement Ã©viter en entretien ?", a:["Regarder son tÃ©lÃ©phone","Ã‰couter le recruteur","Demander des prÃ©cisions"], correct:0, points:30 },
  { q:"Qu'est-ce qu'un \"stage\" ?", a:["Une pÃ©riode d'apprentissage en entreprise","Un travail permanent","Un abonnement"], correct:0, points:20 },
  { q:"Pourquoi relancer une candidature ?", a:["Montrer son intÃ©rÃªt","Manquer d'organisation","Crier"], correct:0, points:25 },
  { q:"Comment se prÃ©senter ?", a:["Nom + objectif professionnel bref","Raconter un long Ã©pisode","Chanter"], correct:0, points:30 },
  { q:"Qu'est-ce qu'un bon CV ?", a:["Clairement structurÃ©","Brouillon","Sans contact"], correct:0, points:35 },
  { q:"Quelle information NE doit PAS figurer ?", a:["Informations mÃ©dicales sensibles","CompÃ©tences","Contact"], correct:0, points:30 },
  { q:"Que signifie \"rÃ©fÃ©rences\" dans un CV ?", a:["Personnes pouvant tÃ©moigner de vous","Des rÃ©fÃ©rences bibliographiques","Un mystÃ¨re"], correct:0, points:20 },
  { q:"Qu'est-ce qu'une compÃ©tence transfÃ©rable ?", a:["CapacitÃ© utile dans plusieurs emplois","Un seul logiciel","Un diplÃ´me prÃ©cis"], correct:0, points:30 },
  { q:"Que faire si on ne sait pas rÃ©pondre en entretien ?", a:["Admettre et proposer comment trouver la rÃ©ponse","Inventer une fausse rÃ©ponse","Ignorer"], correct:0, points:40 },
  { q:"Quel ton adopter en entretien ?", a:["Professionnel et cordial","Hautain","Trop familier"], correct:0, points:30 },
  { q:"Comment montrer sa motivation ?", a:["Par des exemples concrets","Dire \"je suis motivÃ©\" sans preuve","Ne rien faire"], correct:0, points:35 },
  { q:"Qu'est-ce qu'une lettre d'accompagnement ?", a:["Un texte pour contextualiser le CV","Un CV dÃ©tournÃ©","Un document inutile"], correct:0, points:25 },
  { q:"Pourquoi soigner son profil en ligne ?", a:["Les recruteurs regardent souvent","Personne ne regarde","C'est interdit"], correct:0, points:25 },
  { q:"Citer une soft skill importante ?", a:["CapacitÃ© d'Ã©coute","Savoir tout faire","Ignorance"], correct:0, points:20 },
  { q:"Que faire en cas de retard ?", a:["PrÃ©venir et s'excuser","Rester silencieux","Ignorer"], correct:0, points:20 },
  { q:"Quelle information est utile pour un recruteur ?", a:["ExpÃ©riences rÃ©centes et pertinentes","Vos secrets","Informations bancaires"], correct:0, points:30 },
  { q:"Qu'est-ce que la ponctualitÃ© ?", a:["Arriver Ã  l'heure","Arriver quand on veut","Partir tÃ´t"], correct:0, points:15 },
  { q:"Pourquoi personnaliser sa candidature ?", a:["Montrer l'adÃ©quation avec l'offre","Gagner du temps","Faire n'importe quoi"], correct:0, points:25 },
  { q:"Que faire avec un trou dans le CV ?", a:["Expliquer briÃ¨vement en valorisant","Tout cacher","Mentir"], correct:0, points:20 },
  { q:"Quel document joindre ?", a:["CV + lettre adaptÃ©e","Rien","Tout ce qu'on a"], correct:0, points:20 },
  { q:"OÃ¹ demander de l'aide ?", a:["Mission Locale / PÃ´le emploi / rÃ©seau","Personne","La rue"], correct:0, points:20 },
  { q:"Comment se former ?", a:["Par des formations, des MOOC, des stages","Rien","Regarder la tÃ©lÃ©"], correct:0, points:25 },
  { q:"Que montre une bonne attitude ?", a:["CuriositÃ© et respect","Arrogance","IndiffÃ©rence"], correct:0, points:30 },
  { q:"Pourquoi relire son CV ?", a:["Ã‰viter les fautes et les incohÃ©rences","Pour le style fantaisiste","Pour l'oublier"], correct:0, points:20 },
  { q:"Que signifie \"candidature spontanÃ©e\" ?", a:["Envoyer son CV sans offre prÃ©cise","Attendre une offre","Appeler en criant"], correct:0, points:25 },
  { q:"Comment prÃ©parer un entretien ?", a:["Se renseigner sur l'entreprise","Y aller sans prÃ©paration","Ignorer l'entreprise"], correct:0, points:30 },
  { q:"Quel est l'objectif d'une lettre ?", a:["Montrer l'adÃ©quation avec l'offre","Remplir un espace","Raconter sa vie"], correct:0, points:20 },
  { q:"Pourquoi valoriser un stage ?", a:["Montrer des compÃ©tences rÃ©elles","Le cacher","Ne rien dire"], correct:0, points:20 },
  { q:"Qu'est-ce qu'une alternance ?", a:["Formation en entreprise + Ã©cole","Vacances prolongÃ©es","Un emploi permanent"], correct:0, points:20 },
  { q:"Que faire aprÃ¨s un entretien ?", a:["Remercier et relancer si besoin","Tout oublier","Attendre une semaine sans rien faire"], correct:0, points:20 },
  { q:"Quel est un bon comportement en Ã©quipe ?", a:["Partager l'information","Tout garder pour soi","S'opposer systÃ©matiquement"], correct:0, points:30 },
  { q:"Pourquoi Ãªtre honnÃªte ?", a:["La confiance facilite l'embauche","On ne sait pas","C'est inutile"], correct:0, points:30 },
  { q:"Que chercher dans une offre ?", a:["Mots-clÃ©s, compÃ©tences et missions","Juste le salaire","Rien"], correct:0, points:25 },
  { q:"Que fait un conseiller Mission Locale ?", a:["Aide, orientation, formations","Rien","DÃ©core des bureaux"], correct:0, points:20 }
]


/* ===== FOND AVEC MOTS ===== */
const words=["CV","Emploi","Stage","Formation","Projet","Mission Locale","Entretien"];

/* ===== FONCTIONS ===== */
function jump(){
  if(!player.jumping){
    player.vy=-15;
    player.jumping=true;
  }
}

function spawnObstacle(){
  obstacles.push({x:canvas.width,y:230,w:30,h:30});
}

function showQuiz(){
  playing=false;
  const q=questions[Math.floor(Math.random()*questions.length)];
  const ok=confirm(
    q.q+"\n\nOK : "+q.a[0]+"\nAnnuler : "+q.a[1]
  );
  if(!ok) score=0;
  playing=true;
}

function drawBackground(){
  ctx.globalAlpha=0.08;
  ctx.fillStyle="#0f7780";
  ctx.font="20px Arial";
  words.forEach((w,i)=>{
    ctx.fillText(w,(frame*0.3+i*140)%canvas.width,50+(i%4)*40);
  });
  ctx.globalAlpha=1;
}

/* ===== BOUCLE DU JEU ===== */
function gameLoop(){
  if(!playing) return;

  frame++;
  ctx.clearRect(0,0,canvas.width,canvas.height);

  drawBackground();

  /* sol */
  ctx.fillStyle="#ddd";
  ctx.fillRect(0,250,canvas.width,4);

  /* joueur */
  player.vy+=0.9;
  player.y+=player.vy;
  if(player.y>210){
    player.y=210;
    player.vy=0;
    player.jumping=false;
  }

  ctx.beginPath();
  ctx.arc(player.x,player.y,player.r,0,Math.PI*2);
  ctx.fillStyle="#0f7780";
  ctx.fill();

  ctx.fillStyle="white";
  ctx.font="bold 14px Arial";
  ctx.textAlign="center";
  ctx.fillText("MLE",player.x,player.y+5);

  /* obstacles */
  if(Math.random()<0.02) spawnObstacle();

  obstacles.forEach(o=>{
    o.x-=speed;
    ctx.fillStyle="#333";
    ctx.fillRect(o.x,o.y,o.w,o.h);

    if(
      o.x < player.x+player.r &&
      o.x+o.w > player.x-player.r &&
      player.y+player.r > o.y
    ){
      obstacles=[];
      showQuiz();
    }
  });

  obstacles=obstacles.filter(o=>o.x>-50);

  /* score / niveau */
  score++;
  if(score%500===0){
    level++;
    speed+=0.6;
  }

  document.getElementById("score").textContent=score;
  document.getElementById("level").textContent=level;

  requestAnimationFrame(gameLoop);
}

/* ===== CONTROLES ===== */
document.getElementById("startBtn").onclick=()=>{
  document.getElementById("menu").style.display="none";
  playing=true;
  gameLoop();
};

document.addEventListener("keydown",e=>{
  if(e.code==="Space") jump();
});

canvas.addEventListener("click",jump);
canvas.addEventListener("touchstart",e=>{
  e.preventDefault();
  jump();
},{passive:false});
</script>

</body>
</html>

